16 エラー


ECMAScript言語の構築が評価されるときに発生するほとんどのエラーを報告するように実装しなければいけません。初期エラーとは、エラーを含むプログラムにおいて構築の評価に先だって検出され報告されるエラーです。初期エラーはプログラムの最初の評価に先立って報告されるように実装しなければいけません。evalコードの初期エラーはevalが呼ばれたときに報告されますが、evalコードのいかなる構築の評価に先だって報告されます。初期エラーではないすべてのエラーはランタイムエラーです。以下の種類のエラーは初期エラーとして扱わなければいけません。

- 構文エラー
- 同じ名前の複数のgetもしくはsetプロパティへの代入を行うようなObjectLiteralを定義しようと試みること
- 同じ名前をデータプロパティへの代入とgetもしくはsetプロパティへの代入を同時に行うようなObjectLiteralを定義しようと試みること
- 正規表現リテラルの処理系未定義の拡張に関するエラー
- strictモードのコードにおいて同じ名前の複数のデータプロパティへ代入しようとするObjectLiteralを定義しようと試みること
- strictモードのコードにおいてWithStatementがあること
- 独立したstrictモードのFunctionDeclarationもしくはFunctionExpressionのFormalParameterListにおいて二回以上現れるようなIdentifierの値があること
- return, break, continueが不適切な使われ方をされていること
- 初期段階でReferenceではないことが判断できる値に対してPutValueの呼び出しを試みること(例えば、3=4 という代入文の実行など)

どんな状況であってもエラー無しに構築を実行できないことをコンパイラが証明できたとしても、この他のエラーを初期エラーとして扱うように実装してはいけません。そういった場合には早期に警告を出力するように実装されるかもしれませんが、その構築が実際に実行されるまでエラーをリポートするよう実装してはいけません。

指定されたすべてのエラーを報告しますが、以下のエラーを除きます。

- プログラムの構文と正規表現のパターンやフラグの構文を拡張して実装されているかもしれません。これを許すために、SyntaxErroをスローすることが許されているすべての操作(例えば、evalを呼ぶ、正規表現リテラルを使う、Functionを使う、RegExpコンストラクタを使う)で、SyntaxErrorをスローする代わりに、プログラムの構文と正規表現のパターンやフラグの構文で処理系依存の拡張が現れたときに、処理系依存の振る舞いをすることが許されています。
- この仕様で述べられている範囲を越えて、追加の型、値、オブジェクト、プロパティ、関数が実装されているかもしれません。これは(例えば、globalスコープで変数を探すなどの)構築が、(例えば、ReferenceErrorといった)エラーをスローする代わりに処理系依存の振る舞いを引き起こすことになります。
- fractionDigitsもしくはprecision argumentが指定された範囲外の場合に、toFixed, toExponential, toPrecisionがRangeErrorをスローする以外の振る舞いを定義し実装されているかもしれません。
